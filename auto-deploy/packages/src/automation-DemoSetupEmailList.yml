commonfields:
  id: DemoSetupEmailList
  version: -1
dockerimage: demisto/python3:3.10.7.33922
enabled: true
engineinfo: {}
mainengineinfo: {}
name: DemoSetupEmailList
pswd: ""
runas: DBotWeakRole
runonce: false
script: |
  register_module_line('DemoSetupEmailList', 'start', __line__())


  def get_email_list_names():
      res = demisto.internalHttpRequest(uri='lists', method='GET', body={})
      return [ent.get('name') or '' for ent in json.loads(res['body'])]


  def main():
      try:
          PREFIX = 'DemoSetup-Email:'
          names = get_email_list_names()
          names = [name[len(PREFIX):] for name in names if name.startswith(PREFIX)]
          return_results({'hidden': False, 'options': names})
      except Exception as err:
          return_error(str(err), error=traceback.format_exc())


  if __name__ in ('__main__', '__builtin__', 'builtins'):
      main()

  register_module_line('DemoSetupEmailList', 'end', __line__())
scripttarget: 0
subtype: python3
tags:
- demo-setup
- field-display
type: python
